
const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

if (!emailRegex.test(email)) {
    fs.unlinkSync(photo.tempFilePath);
    return res.status(400).json({ message: "Invalid email format" });
}
---------------------------------------
Part	    Meaning
^	        String ka start
[^\s@]+	    @ aur space ke alawa kam se kam 1 character
@	        @ symbol (required)
[^\s@]+	    Domain name (gmail, yahoo etc.)
\.	        Dot . compulsory
[^\s@]+	    Domain extension (com, in, org)
$	        String ka end

emailRegex.test(email)
.test() true deta hai agar email regex se match kare
false deta hai agar match na kare

ğŸ¯ Interview one-liner
â€œRegex ka use email ka basic format validate karne ke liye kiya gaya hai, aur agar email invalid ho to uploaded temp file ko delete karke request ko reject kar diya jata hai.â€

-----------------------------------------
const phoneRegex = /^[6-9]\d{9}$/;

^ â†’ start
[6-9] â†’ number 6,7,8,9 se start hoga
\d{9} â†’ baaki 9 digits
$ â†’ end

ğŸ¯ Interview one-liner
â€œIndian mobile numbers 10 digit hote hain aur 6â€“9 se start hote hain, isliye regex me [6-9]\d{9} use kiya gaya hai.â€
------------------------------------------
secure: process.env.NODE_ENV === 'production'
Environment	Value	Cookie behavior
development	false	HTTP pe cookie kaam karegi
production	true	Sirf HTTPS pe cookie jayegi

âŒ Agar production me secure: false rakho
Cookie HTTP pe bhi send ho jayegi âŒ
Man-in-the-middle attack ka risk âš ï¸
Security issue (interview red flag)

âŒ Agar development me secure: true rakho
localhost HTTP hai
Cookie browser me set hi nahi hogi
Login kaam nahi karega âŒ
-----------------------------------------
â“ sameSite kya hota hai?
sameSite browser ko batata hai:
Cookie kab aur kis request ke sath bhejni hai
Matlab:
Same website se request â†’ cookie jayegi
Dusri website se request â†’ cookie jayegi ya nahi
ğŸ”¹ sameSite: 'strict' ka matlab
âœ Sabse strict rule ğŸ”
âœ” Cookie sirf same-site requests ke sath jayegi
âŒ Agar request dusri website se aayi â†’ cookie nahi jayegi


Bilkul ğŸ‘
**`fs.unlinkSync(file.tempFilePath);` ko step-by-step, simple Hinglish me samjho** ğŸ‘‡

---

## ğŸ”¹ 1ï¸âƒ£ `fs` kya hai?

`fs` = **File System** (Node.js ka built-in module)

Iska use hota hai:

* file read karne
* file likhne
* file delete karne

```js
import fs from "fs";
```

---

## ğŸ”¹ 2ï¸âƒ£ `unlink` ka matlab?

ğŸ‘‰ **unlink = delete file**

Linux / Unix term hai
Matlab: *file ko system se hata do*

---

## ğŸ”¹ 3ï¸âƒ£ `unlinkSync` kya karta hai?

```js
fs.unlinkSync(path);
```

ğŸ‘‰ **given path wali file ko turant delete karta hai**
ğŸ‘‰ **synchronous** hota hai (blocking)

Matlab:

* pehle file delete hogi
* phir next line execute hogi

---

## ğŸ”¹ 4ï¸âƒ£ `file.tempFilePath` kya hota hai?

Tum **`express-fileupload`** use kar rahe ho.

Jab user image upload karta hai:

* wo image pehle **server ke temp folder (`./tmp/`)** me store hoti hai
* uska path hota hai:

```js
file.tempFilePath
```

Example:

```
./tmp/upload_3f8sdj23.png
```

---

## ğŸ”¹ 5ï¸âƒ£ Puri line ka matlab (plain English)

```js
fs.unlinkSync(file.tempFilePath);
```

ğŸ‘‰ â€œJo image abhi temp folder me upload hui thi,
use ab permanently delete kar do.â€

---

## ğŸ”¥ REAL LIFE FLOW (Create / Update Blog)

### ğŸŸ¢ Step-1: User image upload karta hai

```
Frontend â†’ Backend
```

### ğŸŸ¢ Step-2: express-fileupload image ko temp folder me rakhta hai

```
./tmp/abc123.png
```

### ğŸŸ¢ Step-3: Tum Cloudinary pe upload kar dete ho

```js
cloudinary.uploader.upload(file.tempFilePath)
```

### ğŸ”´ Step-4: Ab local temp file ki koi zarurat nahi

ğŸ‘‰ **delete karo**

```js
fs.unlinkSync(file.tempFilePath);
```

---

## â— Agar delete na karo to kya hoga?

âŒ Temp folder bhar jaayega
âŒ Server disk full ho sakta hai
âŒ Production me crash risk

Isliye **ye line VERY IMPORTANT hai** âš ï¸

---

## ğŸ§  Sync vs Async (extra gyaan ğŸ˜„)

### Sync (tum jo use kar rahe ho)

```js
fs.unlinkSync(path);
```

âœ” simple
âœ” small files ke liye OK

### Async (production heavy load)

```js
fs.unlink(path, (err) => {
  if (err) console.error(err);
});
```

---

## âœ… SHORT SUMMARY (1 line)

```js
fs.unlinkSync(file.tempFilePath);
```

ğŸ‘‰ **Cloudinary upload ke baad, server ke temp folder se image delete karta hai**

---

Agar chaho to next:

* â“ `tempFilePath` kaise banta hai
* âš–ï¸ `multer vs express-fileupload`
* ğŸš€ Production best practices

Bas bolo ğŸ˜„
